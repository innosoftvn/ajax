
(function(c){var b={};function e(g,f){for(var h in f){g[h]=g[h]||f[h]}}function a(f,h){var g=[];h=h||"";if(Object.prototype.toString.call(f)=="[object Array]"){f.forEach(function(k,j){a(k,h+"["+j+"]").forEach(function(l){g.push(l)})})}else{if(Object.prototype.toString.call(f)=="[object Object]"){for(var i in f){a(f[i],h==""?i:h+"["+i+"]").forEach(function(j){g.push(j)})}}else{g.push([h,encodeURIComponent(f)].join("="))}}return g}function d(f){var g=f||{};e(g,b);httpRequest=new XMLHttpRequest();if(!httpRequest){console.log("Giving up :( Cannot create an XMLHTTP instance");return false}if(g.beforeSend&&g.beforeSend.call(this,httpRequest,g)===false){httpRequest.abort();return false}httpRequest.onreadystatechange=function(){if(httpRequest.readyState===XMLHttpRequest.DONE){if(httpRequest.status===200){if(g.success&&typeof g.success=="function"){g.success.call(this,httpRequest.response,httpRequest.status,httpRequest)}}else{if(g.error&&typeof g.error=="function"){g.error.call(this,httpRequest,httpRequest.status)}}if(g.complete&&typeof g.complete=="function"){g.complete.call(this,httpRequest,httpRequest.status)}}};httpRequest.open(g.method,g.url);httpRequest.responseType="json";g.headers=g.headers||{};e(g.headers,{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"});for(var h in g.headers){httpRequest.setRequestHeader(h,g.headers[h])}httpRequest.send(a(g.data||{}).join("&"))}d.setup=function(f){e(b,f)};if(typeof exports==="object"){module.exports=d}else{if(typeof define==="function"&&define.amd){define(function(){return d})}else{c.ajax=d}}})(typeof window!="undefined"?window:undefined);